<div class="container" data-ng-controller="tableCtrl as tctrl">

    <div class="card">
        <div class="card-header">
            <h2>All Missions<small>A Complete List of All Missions</small></h2>
            <div class="block-header">
                <span>
                    <!--<button class="btn bgm-lightblue btn-icon" style="float: right;" data-swal-create-mission><i class="zmdi zmdi-plus"></i></button>-->
                    <button class="btn bgm-lightblue btn-icon" style="float: right;" data-backdrop="static" data-keyboard="false"  data-toggle="modal" data-target="#myModal"><i class="zmdi zmdi-plus"></i></button>
                    <!--<button class="btn bgm-lightblue btn-icon" style="float: right;" data-backdrop="static" data-keyboard="false" ng-click="mfdCtrl.loadFormDialogs()"><i class="zmdi zmdi-plus"></i></button>-->
                    <!--<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>-->
                </span>

                <!-- Modal -->
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog" style="width: 900px;">

                        <!-- Modal content-->
                        <div class="modal-content" >
                            <!--<form>-->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title text-center">Add New Mission</h4><br>
                                <p class="text-center">Use the form below to add a new mission. Once you fill in these details you will be able to add all checkpoints.</p>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-lg-6"> <!-- first column -->
                                        <p class="c-black f-500 m-t-0 m-b-10">Name</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" placeholder="Enter name" ng-model="tctrl.missionName">
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Location</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" placeholder="Mission Location" ng-model="tctrl.missionLocation">
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Submission Allowed</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" placeholder="eg: 50" ng-model="tctrl.missionSubmissionAllowed">
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Mission Reward</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" ng-model="tctrl.missionReward" placeholder="eg: 500 (Don't enter '$' symbol)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6"> <!-- second column -->

                                        <p class="c-black f-500 m-t-0 m-b-10">Mission Type</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <div class="select">
                                                    <select class="form-control" ng-model="tctrl.missionType">
                                                        <option>mystery shopping</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Client</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <div class="select" ng-model="tctrl.missionClient">
                                                    <select class="form-control">
                                                        <option>choose client</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Campaign</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <div class="select" ng-model="tctrl.missionCompaign">
                                                    <select class="form-control">
                                                        <option>choose a mission type</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <p class="c-black f-500 m-t-0 m-b-10">Image</p>

                                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                                <span class="btn btn-primary btn-file m-r-10">
                                                    <span class="fileinput-new">Select image</span>
                                                    <span class="fileinput-exists">Change</span>
                                                    <input type="file" name="..." ng-model="tctrl.missionimage">
                                                </span>
                                                <span class="fileinput-filename"></span>
                                                <a href="#" class="close fileinput-exists" data-dismiss="fileinput">&times;</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <p class="c-black f-500 m-t-0 m-b-10">MINIMUM USER LEVEL</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" ng-model="tctrl.missionMinUser" placeholder="eg: 50">
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Likes & Interests</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <div class="select">
                                                    <select class="form-control" ng-model="tctrl.missionLinkIntrest">
                                                        <option>all users</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-0 m-b-10">Mission Description</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <textarea class="form-control" rows="6" ng-model="tctrl.missionBasicexample" placeholder="Start typing..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6" data-ng-controller="DatepickerDemoCtrl">
                                        <p class="c-black f-500 m-t-0 m-b-10">Start Date</p>

                                        <div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened1 == true }">
                                            <span class="input-group-addon"><i class="zmdi zmdi-calendar ma-icon"></i></span>
                                            <div class="fg-line" ng-class="{ 'fg-toggled': opened1 == true }">
                                                <input ng-click="open($event, 'opened1')" type="text" class="form-control" uib-datepicker-popup="{{format}}" show-weeks="false" ng-model="tctrl.missionStartDate" is-open="opened1" min-date="minDate" datepicker-options="dateOptions" ng-required="true" close-text="Close" placeholder="Select Date" />
                                            </div>
                                        </div>
                                        <p class="c-black f-500 m-t-10 m-b-10">End Date</p>

                                        <div class="date-picker input-group dp-blue" ng-class="{ 'is-opened': opened2 == true }">
                                            <span class="input-group-addon"><i class="zmdi zmdi-calendar ma-icon"></i></span>
                                            <div class="fg-line" ng-class="{ 'fg-toggled': opened2 == true }">
                                                <input ng-click="open($event, 'opened2')" type="text" class="form-control" uib-datepicker-popup="{{format}}" show-weeks="false" ng-model="tctrl.missionEndDate" is-open="opened2" min-date="minDate" datepicker-options="dateOptions" ng-required="true" close-text="Close" placeholder="Select Date" />
                                            </div>
                                        </div>
                                        <div data-ng-controller="formCtrl as fctrl">
                                            <p class="c-black f-500 m-t-15 m-b-10">Time Allowed</p>
                                            <small class="c-gray">Current value: {{ missions.missionTimeAllowed}}</small>

                                            <br><br>

                                            <div slider class="input-slider" ng-model="tctrl.missionTimeAllowed" start=1 end=10></div>

                                            <br>
                                        </div>
                                        <p class="c-black f-500 m-t-10 m-b-10">Mission Cost</p>

                                        <div class="form-group">
                                            <div class="fg-line">
                                                <input type="text" class="form-control" ng-model="tctrl.missionCost" placeholder="Cost to client">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="text-align: center">
                                <!--<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>-->
                                <button type="button" class="btn btn-default" data-swal-warning-form>Cancel</button>
                                <!--<button class="btn btn-info" data-swal-text>Click me</button>-->
                                <button type="button" class="btn btn-primary" ng-click="tctrl.createMission()" data-dismiss="modal" data-swal-success-form>Save & add mission</button>
                            </div>
                            <!--</form>-->
                        </div>
                        <!--<form ng-controller='MainCtrl as ctrl'>-->
                        <!--<input type='text' ng-model='ctrl.username'/>-->
                        <!--<input type='password' ng-model='ctrl.password'/>-->
                        <!--<button ng-click='ctrl.submit()'>Submit</button>-->
                        <!--</form>-->

                    </div>
                </div>            
            </div>
        </div>

        <div class="card-body">
            <div class="table-responsive">
                <table ng-table="tctrl.tableEdit" class="table table-striped table-vmiddle" id="missionTable">
                    <colgroup>
                        <col width="100">
                        <col width="auto">
                        <col width="auto">
                        <col width="auto">
                        <col width="auto">
                        <col width="auto">
                        <col width="auto">
                        <col width="180">
                    </colgroup>
                    <tr ng-repeat="w in $data">
                        <td data-title="'ID'">
                            {{ w.id}}
                        </td>
                        <td data-title="'NAME'">
                            {{ w.name}}
                        </td>
                        <td data-title="'CLIENT'">
                            {{ w.username}}
                        </td>
                        <td data-title="'START DATE'">
                            {{ w.contact}}
                        </td>
                        <td data-title="'END DATE'">
                            {{ w.contact}}
                        </td>
                        <td data-title="'COMPLETION'">
                            {{ w.id}}
                        </td>
                        <td data-title="'LOCATION'">
                            {{ w.email}}
                        </td>
                        <td data-title="'ACTIONS'">
                            <button type="button" class="btn btn-danger btn-sm" ng-if="!w.$edit" ng-click="w.$edit = false"><i class="zmdi zmdi-close"></i></button>
                            <button type="button" class="btn btn-primary btn-sm" ng-if="!w.$edit" ng-click="w.$edit = false"><i class="zmdi zmdi-search"></i></button>
                            <button type="button" class="btn bgm-amber btn-sm" ng-if="!w.$edit" ng-click="w.$edit = false"><i class="zmdi zmdi-check-all"></i></button>
                            <button type="button" class="btn btn-success btn-sm" ng-if="!w.$edit" ng-click="tctrl.gocheckpoint(w)"><i class="zmdi zmdi-arrow-right"></i></button>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
